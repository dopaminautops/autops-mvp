from models.database import SessionLocal, Goal, AIForecast
from datetime import datetime, timedelta

def seed_strategy_planning():
    """
        Seed strategy & planning data
            """
                db = SessionLocal()
                    
                        print("ðŸŒ± Seeding Strategy & Planning data...")
                            
                                # ============ GOALS ============
                                    print("\nðŸŽ¯ Creating Goals...")
                                        
                                            goals = [
                                                    {
                                                                "title": "Increase Customer Retention",
                                                                            "description": "Reduce churn by 15%",
                                                                                        "status": "on_track",
                                                                                                    "progress": 0.75,
                                                                                                                "target_date": datetime.utcnow() + timedelta(days=11),  # Mar 15
                                                                                                                            "owner_name": "Sarah Chen",
                                                                                                                                        "owner_avatar": "SC"
                                                                                                                                                },
                                                                                                                                                        {
                                                                                                                                                                    "title": "Expand Market Share",
                                                                                                                                                                                "description": "Acquire 200 new clients",
                                                                                                                                                                                            "status": "at_risk",
                                                                                                                                                                                                        "progress": 0.45,
                                                                                                                                                                                                                    "target_date": datetime.utcnow() + timedelta(days=14),  # Mar 18
                                                                                                                                                                                                                                "owner_name": "Michael Ross",
                                                                                                                                                                                                                                            "owner_avatar": "MR"
                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                        "title": "Improve Service Quality",
                                                                                                                                                                                                                                                                                    "description": "NPS score > 60",
                                                                                                                                                                                                                                                                                                "status": "on_track",
                                                                                                                                                                                                                                                                                                            "progress": 0.90,
                                                                                                                                                                                                                                                                                                                        "target_date": datetime.utcnow() + timedelta(days=16),  # Mar 20
                                                                                                                                                                                                                                                                                                                                    "owner_name": "Lisa Wang",
                                                                                                                                                                                                                                                                                                                                                "owner_avatar": "LW"
                                                                                                                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                                                                            "title": "Revenue Growth Target",
                                                                                                                                                                                                                                                                                                                                                                                        "description": "Increase quarterly revenue by 25%",
                                                                                                                                                                                                                                                                                                                                                                                                    "status": "on_track",
                                                                                                                                                                                                                                                                                                                                                                                                                "progress": 0.82,
                                                                                                                                                                                                                                                                                                                                                                                                                            "target_date": datetime.utcnow() + timedelta(days=20),
                                                                                                                                                                                                                                                                                                                                                                                                                                        "owner_name": "David Kim",
                                                                                                                                                                                                                                                                                                                                                                                                                                                    "owner_avatar": "DK"
                                                                                                                                                                                                                                                                                                                                                                                                                                                            },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                "title": "Team Expansion",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            "description": "Hire 5 new team members",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        "status": "at_risk",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    "progress": 0.40,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                "target_date": datetime.utcnow() + timedelta(days=25),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            "owner_name": "Emma Johnson",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        "owner_avatar": "EJ"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    "title": "Product Launch",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                "description": "Launch new feature set",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            "status": "on_track",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        "progress": 0.65,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    "target_date": datetime.utcnow() + timedelta(days=30),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                "owner_name": "Alex Turner",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            "owner_avatar": "AT"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        "title": "Cost Optimization",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    "description": "Reduce operational costs by 10%",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                "status": "completed",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            "progress": 1.0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        "target_date": datetime.utcnow() - timedelta(days=5),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    "owner_name": "Rachel Green",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                "owner_avatar": "RG"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            "title": "Customer Satisfaction",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        "description": "Achieve 95% satisfaction rate",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    "status": "completed",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                "progress": 1.0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            "target_date": datetime.utcnow() - timedelta(days=10),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        "owner_name": "Tom Wilson",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    "owner_avatar": "TW"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ]
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        for goal_data in goals:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                goal = Goal(**goal_data)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        db.add(goal)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                db.commit()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    print(f"âœ… Created {len(goals)} goals")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            # ============ AI FORECAST ============
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                print("\nðŸ¤– Creating AI Forecast...")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        forecast = AIForecast(
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                forecast_text="Based on current progress, 75% of goals are likely to be achieved this quarter",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        success_probability=0.82
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            )
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                db.add(forecast)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    db.commit()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        print("âœ… AI Forecast created")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                print("\nðŸŽ‰ Strategy & Planning data seeded successfully!")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    print("\nðŸ“Š Summary:")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        print(f"   Total Goals: {len(goals)}")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            print(f"   On Track: {len([g for g in goals if g['status'] == 'on_track'])}")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                print(f"   At Risk: {len([g for g in goals if g['status'] == 'at_risk'])}")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    print(f"   Completed: {len([g for g in goals if g['status'] == 'completed'])}")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        print(f"   AI Forecast: Success Probability 82%")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                db.close()

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                if __name__ == "__main__":
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    seed_strategy_planning()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    